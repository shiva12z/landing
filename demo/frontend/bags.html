<!DOCTYPE html>
<html>
  <head>
    <title>Bags - StyleZone</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      .rotate-arrow { transition: transform 0.3s cubic-bezier(0.4,0,0.2,1); }
      .rotate-arrow.rotated { transform: rotate(180deg); }
      .shatter-x .x-line1 { transform-origin: 25% 25%; animation: shatter-x-line1 0.5s forwards; }
      .shatter-x .x-line2 { transform-origin: 75% 75%; animation: shatter-x-line2 0.5s forwards; }
      @keyframes shatter-x-line1 { 0% { transform: rotate(45deg) scale(1); opacity: 1; } 80% { transform: rotate(45deg) scale(1.2) translate(-8px, -8px); opacity: 1; } 100% { transform: rotate(45deg) scale(1.2) translate(-24px, -24px); opacity: 0; } }
      @keyframes shatter-x-line2 { 0% { transform: rotate(-45deg) scale(1); opacity: 1; } 80% { transform: rotate(-45deg) scale(1.2) translate(8px, 8px); opacity: 1; } 100% { transform: rotate(-45deg) scale(1.2) translate(24px, 24px); opacity: 0; } }
      .dropdown-option.selected, .dropdown-option.selected:hover { background-color: #d1e3fa !important; color: #0c7ff2 !important; font-weight: bold; }
      .active-filters { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 0.5rem; margin-left: 1rem; }
      .filter-tag { background: #e7edf4; color: #0d151c; border-radius: 9999px; padding: 0.25rem 0.75rem; font-size: 0.875rem; display: flex; align-items: center; gap: 0.25rem; }
      .filter-tag .remove-tag { cursor: pointer; margin-left: 0.25rem; font-weight: bold; }
      .dropdown-anim { transition: opacity 0.3s cubic-bezier(0.4,0,0.2,1), transform 0.3s cubic-bezier(0.4,0,0.2,1); opacity: 0; transform: translateY(-8px) scale(0.98); pointer-events: none; }
      .dropdown-anim.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }
    </style>
  </head>
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf4] px-10 py-3">
          <div class="flex items-center gap-4 text-[#0d141c]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M24 18.4228L42 11.475V34.3663C42 34.7796 41.7457 35.1504 41.3601 35.2992L24 42V18.4228Z" fill="currentColor"></path>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M24 8.18819L33.4123 11.574L24 15.2071L14.5877 11.574L24 8.18819ZM9 15.8487L21 20.4805V37.6263L9 32.9945V15.8487ZM27 37.6263V20.4805L39 15.8487V32.9945L27 37.6263ZM25.354 2.29885C24.4788 1.98402 23.5212 1.98402 22.646 2.29885L4.98454 8.65208C3.7939 9.08038 3 10.2097 3 11.475V34.3663C3 36.0196 4.01719 37.5026 5.55962 38.098L22.9197 44.7987C23.6149 45.0671 24.3851 45.0671 25.0803 44.7987L42.4404 38.098C43.9828 37.5026 45 36.0196 45 34.3663V11.475C45 10.2097 44.2061 9.08038 43.0155 8.65208L25.354 2.29885Z" fill="currentColor"></path>
              </svg>
            </div>
            <h2 class="text-[#0d141c] text-lg font-bold leading-tight tracking-[-0.015em]">StyleZone</h2>
            <div class="flex items-center gap-9 ml-8 relative">
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="index.html">Home</a>
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="shop.html">Shop</a>
              <div class="relative group" id="categories-dropdown-wrapper">
                <a class="text-[#0d141c] text-sm font-medium leading-normal cursor-pointer" id="categories-link">Categories</a>
                <div id="categories-dropdown" class="hidden absolute left-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-50 border border-[#e7edf4]">
                  <a href="shoes.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Shoes</a>
                  <a href="men.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Men</a>
                  <a href="women.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Women</a>
                  <a href="watches.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Watches</a>
                  <a href="bags.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Bags</a>
                  <a href="clothing.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Clothing</a>
                  <a href="accessories.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Accessories</a>
                  <a href="jewelry.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Jewelry</a>
                </div>
              </div>
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="sale.html">Sale</a>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
              <div class="text-[#0d141c]" data-icon="MagnifyingGlass" data-size="20px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                </svg>
              </div>
            </button>
            <button
              class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5"
              id="cart-btn"
            >
              <div class="text-[#0d141c]" data-icon="ShoppingCart" data-size="20px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M222.14,58.87A8,8,0,0,0,216,56H54.68L49.79,29.14A16,16,0,0,0,34.05,16H16a8,8,0,0,0,0,16h18L59.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,152,204a28,28,0,1,0,28-28H83.17a8,8,0,0,1-7.87-6.57L72.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,222.14,58.87ZM96,204a12,12,0,1,1-12-12A12,12,0,0,1,96,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,192,204Zm4-74.57A8,8,0,0,1,188.1,136H69.22L57.59,72H206.41Z"></path>
                </svg>
              </div>
              <span id="cart-count" class="bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden">0</span>
            </button>
            <div id="cart-dropdown" class="hidden absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg z-50 border border-[#e7edf4] max-h-96 overflow-y-auto">
              <div class="p-4 border-b border-[#e7edf4]">
                <h3 class="text-lg font-bold text-[#0d141c]">Shopping Cart</h3>
              </div>
              <div id="cart-items" class="p-4">
                <p class="text-gray-500 text-center">Your cart is empty</p>
              </div>
              <div id="cart-total" class="p-4 border-t border-[#e7edf4] hidden">
                <div class="flex justify-between items-center mb-3">
                  <span class="font-bold text-[#0d141c]">Total:</span>
                  <span id="cart-total-price" class="font-bold text-[#0c7ff2]">$0.00</span>
                </div>
                <button id="checkout-btn" class="w-full bg-[#0c7ff2] text-white py-2 px-4 rounded hover:bg-[#0056b3] transition-colors">
                  Checkout
                </button>
              </div>
            </div>
            <div class="relative">
              <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5" aria-label="Account" id="profile-btn">
              <div class="text-[#0d141c]" data-icon="User" data-size="20px" data-weight="regular">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M128,128a48,48,0,1,0-48-48A48,48,0,0,0,128,128Zm0,16c-39.7,0-72,32.3-72,72a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8C200,176.3,167.7,144,128,144Z"></path>
                </svg>
              </div>
            </button>
              <div id="profile-dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg z-50 border border-[#e7edf4]">
                <a href="account-settings.html" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]">Account Settings</a>
                <a href="#" class="block px-4 py-2 text-[#0d141c] hover:bg-[#e7edf4]" id="logout-btn">Logout</a>
              </div>
            </div>
          </div>
        </header>
        <!-- Main Content -->
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <div class="flex min-w-72 flex-col gap-3">
                <p class="text-[#0d151c] tracking-light text-[32px] font-bold leading-tight">Bags</p>
                <p class="text-[#49749c] text-sm font-normal leading-normal">Browse our collection of stylish and functional bags.</p>
              </div>
            </div>
            <!-- Filter and Search -->
            <div class="flex gap-4 p-3 flex-wrap pr-4 -ml-3 mb-2">
              <!-- Active filter tags -->
              <div id="active-filters" class="active-filters"></div>
              <!-- Sort Button Dropdown -->
              <div class="relative">
                <button id="sort-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                  <p id="sort-label" class="text-[#0d151c] text-sm font-medium leading-normal">Sort</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="sort-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                    </svg>
                  </span>
                </button>
                <div id="sort-dropdown" class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="default">Default</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="price-asc">Price: Low to High</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="price-desc">Price: High to Low</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="name-asc">Name: A-Z</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="name-desc">Name: Z-A</a>
                </div>
              </div>
              <div class="relative">
                <button id="category-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Category</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="category-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="category-dropdown" class="absolute left-0 mt-2 w-56 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="shoes.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/shoes.png" alt="Shoes" class="w-5 h-5"/>
                    <span>Shoes</span>
                  </a>
                  <a href="men.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/businessman.png" alt="Men" class="w-5 h-5"/>
                    <span>Men</span>
                  </a>
                  <a href="women.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/businesswoman.png" alt="Women" class="w-5 h-5"/>
                    <span>Women</span>
                  </a>
                  <a href="watches.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/apple-watch-apps.png" alt="Watches" class="w-5 h-5"/>
                    <span>Watches</span>
                  </a>
                  <a href="bags.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/shopping-bag.png" alt="Bags" class="w-5 h-5"/>
                    <span>Bags</span>
                  </a>
                  <a href="clothing.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/t-shirt.png" alt="Clothing" class="w-5 h-5"/>
                    <span>Clothing</span>
                  </a>
                  <a href="accessories.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <svg class="w-5 h-5" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <ellipse cx="22" cy="50" rx="13" ry="10" fill="#0c7ff2"/>
                      <ellipse cx="58" cy="50" rx="13" ry="10" fill="#0c7ff2"/>
                      <rect x="22" y="48" width="36" height="5" fill="#0c7ff2"/>
                      <rect x="8" y="49" width="5" height="3" fill="#0c7ff2"/>
                      <rect x="67" y="49" width="5" height="3" fill="#0c7ff2"/>
                      <rect x="37" y="45" width="6" height="5" fill="#0c7ff2"/>
                    </svg>
                    <span>Accessories</span>
                  </a>
                  <a href="jewelry.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/necklace.png" alt="Jewelry" class="w-5 h-5"/>
                    <span>Jewelry</span>
                  </a>
                </div>
              </div>
              <div class="relative">
                <button id="type-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Type</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="type-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="type-dropdown" class="absolute left-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Backpack</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Slingbag</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Bumbag</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Other</a>
                </div>
              </div>
              <div class="relative">
                <button id="color-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Color</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="color-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="color-dropdown" class="absolute left-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#222"></span>Black</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full border border-gray-300 bg-white"></span>White</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#8B5C2A"></span>Brown</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#2563eb"></span>Blue</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#e11d48"></span>Red</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#22c55e"></span>Green</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#6b7280"></span>Grey</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:gold"></span>Gold</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:silver"></span>Silver</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#ec4899"></span>Pink</a>
                </div>
              </div>
              <div class="relative">
                <button id="price-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Price</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="price-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </span>
                </button>
                <div id="price-dropdown" class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Under $50</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">$50–$75</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">$75–$100</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Over $100</a>
                </div>
              </div>
              <button id="clear-filters-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] px-4 text-[#0d151c] text-sm font-medium leading-normal ml-2 hover:bg-[#d1e3fa] transition-colors">
                <svg id="clear-x-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24">
                  <line class="x-line1" x1="6" y1="6" x2="18" y2="18" stroke="#0d151c" stroke-width="2" stroke-linecap="round" />
                  <line class="x-line2" x1="18" y1="6" x2="6" y2="18" stroke="#0d151c" stroke-width="2" stroke-linecap="round" />
                </svg>
                Clear Filters
              </button>
            </div>
            <!-- Search Bar -->
            <div class="bg-[#e7edf4] rounded-xl transition-all duration-300 ease-in-out opacity-0 -translate-y-4 pointer-events-none mt-0 mb-2" id="search-bar-container">
              <label class="flex flex-col min-w-40 h-12 w-full">
                <div class="flex w-full flex-1 items-center rounded-xl h-12">
                  <div class="text-[#49749c] flex border-none bg-[#e7edf4] items-center justify-center pl-4 rounded-l-xl border-r-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                    </svg>
                  </div>
                  <input
                    id="product-search"
                    placeholder="Search for bags"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0d151c] focus:outline-0 focus:ring-0 border-none bg-[#e7edf4] focus:border-none h-12 placeholder:text-[#49749c] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                    value=""
                  />
                </div>
              </label>
            </div>
            <!-- Product Grid -->
            <div class="grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 pt-0 transition-all duration-300 ease-in-out" id="product-grid">
              <!-- Product cards will be generated by JS -->
            </div>
            <!-- Pagination Controls -->
            <div class="flex justify-center items-center gap-2 py-4" id="pagination-controls"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Product Popup Modal -->
    <div id="product-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 hidden opacity-0 transition-all duration-300 ease-in-out">
      <div class="bg-white rounded-xl shadow-xl flex flex-col items-center px-8 py-8 w-full max-w-md transform scale-95 transition-all duration-300 ease-in-out">
        <img id="modal-img" src="" alt="" class="rounded-lg w-48 h-48 object-cover mb-4" />
        <div class="text-black font-bold text-lg mb-2 text-center" id="modal-name"></div>
        <div class="text-[#49749c] text-base mb-2" id="modal-price"></div>
        <div class="text-gray-600 text-center mb-4" id="modal-desc"></div>
        <button id="add-to-cart-btn" class="mt-2 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 font-bold">Add to Cart</button>
      </div>
    </div>
    <script>
    // --- Product Data (from Bags folder) ---
    const bagsProducts = [
      { name: "Avenue Slingbag", img: "Bags/Avenue Slingbag.png", price: "$66", desc: "Stylish and compact slingbag for everyday use.", color: "black", type: "Slingbag" },
      { name: "Christopher MM", img: "Bags/Christopher MM.png", price: "$108", desc: "Spacious and elegant backpack for all occasions.", color: "brown", type: "Backpack" },
      { name: "City backpack in ECONYL®, smooth leather and nylon", img: "Bags/City backpack in ECONYL®, smooth leather and nylon.png", price: "$90", desc: "Eco-friendly city backpack with leather and nylon.", color: "black", type: "Backpack" },
      { name: "Dior Hit the Road Backpack with Flap Blue and Beige Raffia-Effect Dior Oblique Denim with Brown Grained Calfskin", img: "Bags/Dior Hit the Road Backpack with Flap Blue and Beige Raffia-Effect Dior Oblique Denim with Brown Grained Calfskin.png", price: "$150", desc: "Designer backpack with unique denim and calfskin.", color: "blue", type: "Backpack" },
      { name: "Discovery Backpack PM", img: "Bags/Discovery Backpack PM.png", price: "$138", desc: "Premium backpack for travel and daily use.", color: "black", type: "Backpack" },
      { name: "Discovery Bumbag PM", img: "Bags/Discovery Bumbag PM.png", price: "$60", desc: "Trendy bumbag for essentials on the go.", color: "grey", type: "Bumbag" },
      { name: "Fastline Backpack", img: "Bags/Fastline Backpack.png", price: "$84", desc: "Sporty backpack with multiple compartments.", color: "blue", type: "Backpack" },
      { name: "Orkney Flap Backpack", img: "Bags/Orkney Flap Backpack.png", price: "$96", desc: "Classic flap backpack with modern design.", color: "brown", type: "Backpack" },
      { name: "Thule Paramount 27L Backpack", img: "Bags/Thule Paramount 27L Backpack.png", price: "$102", desc: "Durable 27L backpack for urban adventures.", color: "black", type: "Backpack" },
      { name: "Troubadour Apex Compact Backpack Premium Vegan, Waterproof Material", img: "Bags/Troubadour Apex Compact Backpack Premium Vegan, Waterproof Material.png", price: "$138", desc: "Premium vegan, waterproof compact backpack.", color: "black", type: "Backpack" },
      { name: "VELEZ Full Grain Leather Backpack for Men", img: "Bags/VELEZ Full Grain Leather Backpack for Men.png", price: "$150", desc: "Full grain leather backpack for men.", color: "brown", type: "Backpack" },
      { name: "WAY ONE Canvas Waterproof Backpack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$72", desc: "Canvas waterproof backpack for all weather.", color: "green", type: "Backpack" },
      { name: "Urban Explorer Backpack", img: "Bags/Avenue Slingbag.png", price: "$66", desc: "Urban explorer backpack for city adventures.", color: "black", type: "Backpack" },
      { name: "Travel Companion Duffel", img: "Bags/Christopher MM.png", price: "$84", desc: "Spacious duffel bag for travel and gym.", color: "blue", type: "Other" },
      { name: "Minimalist Crossbody Bag", img: "Bags/Avenue Slingbag.png", price: "$39", desc: "Minimalist crossbody bag for essentials.", color: "black", type: "Slingbag" },
      { name: "Weekend Warrior Backpack", img: "Bags/Fastline Backpack.png", price: "$84", desc: "Weekend warrior backpack for outdoor activities.", color: "green", type: "Backpack" },
      { name: "Business Professional Tote", img: "Bags/Christopher MM.png", price: "$108", desc: "Professional tote bag for business meetings.", color: "brown", type: "Other" },
      { name: "Adventure Seeker Rucksack", img: "Bags/Thule Paramount 27L Backpack.png", price: "$72", desc: "Adventure seeker rucksack for hiking.", color: "green", type: "Backpack" },
      { name: "Fashion Forward Sling", img: "Bags/Avenue Slingbag.png", price: "$42", desc: "Fashion forward sling bag with modern design.", color: "grey", type: "Slingbag" },
      { name: "Luxury Leather Backpack", img: "Bags/VELEZ Full Grain Leather Backpack for Men.png", price: "$150", desc: "Luxury leather backpack with premium finish.", color: "brown", type: "Backpack" },
      { name: "Compact Travel Backpack", img: "Bags/Troubadour Apex Compact Backpack Premium Vegan, Waterproof Material.png", price: "$90", desc: "Compact travel backpack for short trips.", color: "black", type: "Backpack" },
      { name: "Street Style Bumbag", img: "Bags/Discovery Bumbag PM.png", price: "$37", desc: "Street style bumbag for urban fashion.", color: "black", type: "Bumbag" },
      { name: "Outdoor Expedition Pack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$92", desc: "Outdoor expedition pack for wilderness adventures.", color: "green", type: "Backpack" },
      { name: "Designer Shoulder Bag", img: "Bags/Dior Hit the Road Backpack with Flap Blue and Beige Raffia-Effect Dior Oblique Denim with Brown Grained Calfskin.png", price: "$132", desc: "Designer shoulder bag with premium materials.", color: "blue", type: "Other" },
      { name: "Tech-Friendly Backpack", img: "Bags/City backpack in ECONYL®, smooth leather and nylon.png", price: "$67", desc: "Tech-friendly backpack with laptop compartment.", color: "black", type: "Backpack" },
      { name: "Casual Day Pack", img: "Bags/Discovery Backpack PM.png", price: "$52", desc: "Casual day pack for everyday activities.", color: "grey", type: "Backpack" },
      { name: "Premium Leather Sling", img: "Bags/Avenue Slingbag.png", price: "$64", desc: "Premium leather sling bag with craftsmanship.", color: "brown", type: "Slingbag" },
      { name: "Sport Utility Backpack", img: "Bags/Fastline Backpack.png", price: "$75", desc: "Sport utility backpack for athletic activities.", color: "blue", type: "Backpack" },
      { name: "Heritage Canvas Backpack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$68", desc: "Heritage canvas backpack with vintage appeal.", color: "brown", type: "Backpack" },
      { name: "Modern Minimalist Pack", img: "Bags/Orkney Flap Backpack.png", price: "$87", desc: "Modern minimalist pack with clean design.", color: "black", type: "Backpack" },
      { name: "Adventure Ready Bumbag", img: "Bags/Discovery Bumbag PM.png", price: "$45", desc: "Adventure ready bumbag for outdoor activities.", color: "green", type: "Bumbag" },
      { name: "Executive Briefcase", img: "Bags/Christopher MM.png", price: "$127", desc: "Executive briefcase for professional use.", color: "black", type: "Other" },
      { name: "Weekend Getaway Duffel", img: "Bags/Thule Paramount 27L Backpack.png", price: "$95", desc: "Weekend getaway duffel for short trips.", color: "blue", type: "Other" },
      { name: "Urban Commuter Pack", img: "Bags/City backpack in ECONYL®, smooth leather and nylon.png", price: "$78", desc: "Urban commuter pack for daily travel.", color: "black", type: "Backpack" },
      { name: "Fashion Statement Sling", img: "Bags/Avenue Slingbag.png", price: "$57", desc: "Fashion statement sling with bold design.", color: "red", type: "Slingbag" },
      { name: "Outdoor Survival Pack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$107", desc: "Outdoor survival pack for extreme adventures.", color: "green", type: "Backpack" },
      { name: "Luxury Travel Companion", img: "Bags/VELEZ Full Grain Leather Backpack for Men.png", price: "$149", desc: "Luxury travel companion with premium features.", color: "brown", type: "Backpack" },
      { name: "Street Fashion Bumbag", img: "Bags/Discovery Bumbag PM.png", price: "$41", desc: "Street fashion bumbag for trendy looks.", color: "pink", type: "Bumbag" },
      { name: "Professional Messenger", img: "Bags/Christopher MM.png", price: "$102", desc: "Professional messenger bag for work.", color: "brown", type: "Other" },
      { name: "Adventure Photography Pack", img: "Bags/Fastline Backpack.png", price: "$88", desc: "Adventure photography pack with camera compartments.", color: "black", type: "Backpack" },
      { name: "Eco-Friendly Day Pack", img: "Bags/City backpack in ECONYL®, smooth leather and nylon.png", price: "$65", desc: "Eco-friendly day pack made from sustainable materials.", color: "green", type: "Backpack" },
      { name: "Premium Crossbody Bag", img: "Bags/Avenue Slingbag.png", price: "$72", desc: "Premium crossbody bag with luxury finish.", color: "gold", type: "Slingbag" },
      { name: "Military Style Backpack", img: "Bags/Thule Paramount 27L Backpack.png", price: "$98", desc: "Military style backpack with tactical features.", color: "green", type: "Backpack" },
      { name: "Designer Travel Backpack", img: "Bags/Dior Hit the Road Backpack with Flap Blue and Beige Raffia-Effect Dior Oblique Denim with Brown Grained Calfskin.png", price: "$137", desc: "Designer travel backpack with unique styling.", color: "blue", type: "Backpack" },
      { name: "Compact Utility Pack", img: "Bags/Troubadour Apex Compact Backpack Premium Vegan, Waterproof Material.png", price: "$71", desc: "Compact utility pack for everyday needs.", color: "black", type: "Backpack" },
      { name: "Fashion Forward Backpack", img: "Bags/Orkney Flap Backpack.png", price: "$81", desc: "Fashion forward backpack with contemporary design.", color: "brown", type: "Backpack" },
      { name: "Adventure Sports Pack", img: "Bags/Fastline Backpack.png", price: "$91", desc: "Adventure sports pack for extreme activities.", color: "blue", type: "Backpack" },
      { name: "Luxury Weekend Bag", img: "Bags/VELEZ Full Grain Leather Backpack for Men.png", price: "$159", desc: "Luxury weekend bag for premium travel.", color: "brown", type: "Other" },
      { name: "Urban Explorer Sling", img: "Bags/Avenue Slingbag.png", price: "$55", desc: "Urban explorer sling for city adventures.", color: "grey", type: "Slingbag" },
      { name: "Professional Backpack", img: "Bags/Discovery Backpack PM.png", price: "$109", desc: "Professional backpack for business use.", color: "black", type: "Backpack" },
      { name: "Outdoor Adventure Pack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$85", desc: "Outdoor adventure pack for wilderness exploration.", color: "green", type: "Backpack" },
      { name: "Fashion Statement Bumbag", img: "Bags/Discovery Bumbag PM.png", price: "$47", desc: "Fashion statement bumbag with bold design.", color: "red", type: "Bumbag" },
      { name: "Premium Travel Backpack", img: "Bags/Thule Paramount 27L Backpack.png", price: "$117", desc: "Premium travel backpack with advanced features.", color: "black", type: "Backpack" },
      { name: "Street Style Backpack", img: "Bags/Fastline Backpack.png", price: "$78", desc: "Street style backpack for urban fashion.", color: "blue", type: "Backpack" },
      { name: "Luxury Crossbody Bag", img: "Bags/Avenue Slingbag.png", price: "$89", desc: "Luxury crossbody bag with premium materials.", color: "gold", type: "Slingbag" },
      { name: "Adventure Ready Backpack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$95", desc: "Adventure ready backpack for outdoor activities.", color: "green", type: "Backpack" },
      { name: "Professional Messenger Bag", img: "Bags/Christopher MM.png", price: "$122", desc: "Professional messenger bag for executives.", color: "brown", type: "Other" },
      { name: "Urban Fashion Pack", img: "Bags/City backpack in ECONYL®, smooth leather and nylon.png", price: "$73", desc: "Urban fashion pack for style-conscious individuals.", color: "black", type: "Backpack" },
      { name: "Premium Adventure Pack", img: "Bags/VELEZ Full Grain Leather Backpack for Men.png", price: "$169", desc: "Premium adventure pack with luxury features.", color: "brown", type: "Backpack" },
      { name: "Street Fashion Sling", img: "Bags/Avenue Slingbag.png", price: "$61", desc: "Street fashion sling for trendy looks.", color: "pink", type: "Slingbag" },
      { name: "Outdoor Expedition Backpack", img: "Bags/Thule Paramount 27L Backpack.png", price: "$105", desc: "Outdoor expedition backpack for extreme adventures.", color: "green", type: "Backpack" },
      { name: "Luxury Travel Pack", img: "Bags/Dior Hit the Road Backpack with Flap Blue and Beige Raffia-Effect Dior Oblique Denim with Brown Grained Calfskin.png", price: "$147", desc: "Luxury travel pack with designer appeal.", color: "blue", type: "Backpack" },
      { name: "Professional Utility Bag", img: "Bags/Troubadour Apex Compact Backpack Premium Vegan, Waterproof Material.png", price: "$83", desc: "Professional utility bag for work and travel.", color: "black", type: "Other" },
      { name: "Adventure Sports Bumbag", img: "Bags/Discovery Bumbag PM.png", price: "$51", desc: "Adventure sports bumbag for active lifestyles.", color: "green", type: "Bumbag" },
      { name: "Urban Explorer Backpack", img: "Bags/Orkney Flap Backpack.png", price: "$91", desc: "Urban explorer backpack for city adventures.", color: "brown", type: "Backpack" },
      { name: "Premium Fashion Pack", img: "Bags/Fastline Backpack.png", price: "$111", desc: "Premium fashion pack with luxury styling.", color: "blue", type: "Backpack" },
      { name: "Luxury Adventure Sling", img: "Bags/Avenue Slingbag.png", price: "$97", desc: "Luxury adventure sling for premium experiences.", color: "gold", type: "Slingbag" },
      { name: "Professional Travel Pack", img: "Bags/Discovery Backpack PM.png", price: "$129", desc: "Professional travel pack for business trips.", color: "black", type: "Backpack" },
      { name: "Street Style Adventure Pack", img: "Bags/WAY ONE Canvas Waterproof Backpack.png", price: "$87", desc: "Street style adventure pack for urban exploration.", color: "green", type: "Backpack" }
    ];
    // --- END Product Data ---

    // Fisher-Yates shuffle
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }
    shuffleArray(bagsProducts);

    // --- JS LOGIC (adapted from men.html) ---
    document.addEventListener('DOMContentLoaded', function () {
      // DOM elements
      const productGrid = document.getElementById('product-grid');
      const paginationControls = document.getElementById('pagination-controls');
      const searchInput = document.getElementById('product-search');
      const sortBtn = document.getElementById('sort-btn');
      const sortDropdown = document.getElementById('sort-dropdown');
      const sortArrow = document.getElementById('sort-arrow');
      const sortLabel = document.getElementById('sort-label');
      const categoryBtn = document.getElementById('category-btn');
      const categoryDropdown = document.getElementById('category-dropdown');
      const categoryArrow = document.getElementById('category-arrow');
      const typeBtn = document.getElementById('type-btn');
      const typeDropdown = document.getElementById('type-dropdown');
      const typeArrow = document.getElementById('type-arrow');
      const colorBtn = document.getElementById('color-btn');
      const colorDropdown = document.getElementById('color-dropdown');
      const colorArrow = document.getElementById('color-arrow');
      const priceBtn = document.getElementById('price-btn');
      const priceDropdown = document.getElementById('price-dropdown');
      const priceArrow = document.getElementById('price-arrow');
      const clearBtn = document.getElementById('clear-filters-btn');
      const clearX = document.getElementById('clear-x-icon');
      const activeFilters = document.getElementById('active-filters');
      let currentSort = 'default';
      let currentPage = 1;
      const PRODUCTS_PER_PAGE = 12;
      let selectedCategory = null;
      let selectedType = null;
      let selectedColor = null;
      let selectedPrice = null;

      // --- Render Product Cards ---
      let allProductCards = [];
      function createProductCard(product) {
        const card = document.createElement('div');
        card.className = 'flex flex-col gap-3 pb-3 product-card cursor-pointer';
        card.setAttribute('data-name', product.name);
        card.setAttribute('data-price', product.price);
        card.setAttribute('data-img', product.img);
        card.setAttribute('data-desc', product.desc);
        card.setAttribute('data-color', product.color);
        card.setAttribute('data-type', product.type);
        card.innerHTML = `
          <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-xl product-img" style='background-image: url("${product.img}");'></div>
          <div>
            <p class="text-[#0d151c] text-base font-medium leading-normal product-name">${product.name}</p>
            <p class="text-[#49749c] text-sm font-normal leading-normal product-price">${product.price}</p>
          </div>
        `;
        return card;
      }
      function renderAllProductCards() {
        allProductCards = bagsProducts.map(createProductCard);
      }
      renderAllProductCards();

      // --- Filtering, Sorting, Pagination ---
      function getFilteredProductCards() {
        const query = searchInput.value.trim().toLowerCase();
        let filtered = allProductCards.filter(card => {
          const name = card.getAttribute('data-name').toLowerCase();
          const priceStr = card.getAttribute('data-price').replace(/[^\d]/g, '');
          const price = parseInt(priceStr, 10);
          const desc = (card.getAttribute('data-desc') || '').toLowerCase();
          const color = (card.getAttribute('data-color') || '').toLowerCase();
          const type = (card.getAttribute('data-type') || '').toLowerCase();
          let show = true;
          if (query && !(name.includes(query) || card.getAttribute('data-price').toLowerCase().includes(query) || desc.includes(query))) show = false;
          if (selectedType && show) {
            if (type !== selectedType.toLowerCase()) show = false;
          }
          if (selectedColor && show) {
            if (color !== selectedColor) show = false;
          }
          if (selectedPrice && show) {
            if (selectedPrice === 'under4000' && !(price < 4000)) show = false;
            if (selectedPrice === '4000-6000' && !(price >= 4000 && price <= 6000)) show = false;
            if (selectedPrice === '6000-8000' && !(price > 6000 && price <= 8000)) show = false;
            if (selectedPrice === 'over8000' && !(price > 8000)) show = false;
          }
          return show;
        });
        // Sorting
        if (currentSort === 'price-asc') {
          filtered.sort((a, b) => {
            const pa = Number(a.getAttribute('data-price').replace(/[^\d]/g, ''));
            const pb = Number(b.getAttribute('data-price').replace(/[^\d]/g, ''));
            return pa - pb;
          });
        } else if (currentSort === 'price-desc') {
          filtered.sort((a, b) => {
            const pa = Number(a.getAttribute('data-price').replace(/[^\d]/g, ''));
            const pb = Number(b.getAttribute('data-price').replace(/[^\d]/g, ''));
            return pb - pa;
          });
        } else if (currentSort === 'name-asc') {
          filtered.sort((a, b) => a.getAttribute('data-name').localeCompare(b.getAttribute('data-name')));
        } else if (currentSort === 'name-desc') {
          filtered.sort((a, b) => b.getAttribute('data-name').localeCompare(a.getAttribute('data-name')));
        }
        return filtered;
      }
      function renderProducts() {
        const filtered = getFilteredProductCards();
        const totalPages = Math.ceil(filtered.length / PRODUCTS_PER_PAGE) || 1;
        if (currentPage > totalPages) currentPage = totalPages;
        productGrid.innerHTML = '';
        const start = (currentPage - 1) * PRODUCTS_PER_PAGE;
        const end = start + PRODUCTS_PER_PAGE;
        filtered.slice(start, end).forEach(card => {
          productGrid.appendChild(card);
          card.style.display = '';
        });
        renderPaginationControls(totalPages);
        // Modal logic for new cards
        productGrid.querySelectorAll('.product-card').forEach(card => {
          card.addEventListener('click', function () {
            const img = card.getAttribute('data-img');
            const name = card.getAttribute('data-name');
            const price = card.getAttribute('data-price');
            const desc = card.getAttribute('data-desc') || "";
            const modalImg = document.getElementById('modal-img');
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            modalImg.src = img;
            modalImg.alt = name;
            modalImg.classList.remove('hidden');
            let errorMsg = document.getElementById('modal-img-error');
            if (errorMsg) errorMsg.remove();
            addToCartBtn.disabled = false;
            modalImg.onerror = function() {
              this.onerror = null;
              this.src = '/public/vite.svg';
              if (!document.getElementById('modal-img-error')) {
                const err = document.createElement('div');
                err.id = 'modal-img-error';
                err.textContent = 'Image failed to load.';
                err.style.color = '#e53e3e';
                err.style.fontWeight = 'bold';
                err.style.margin = '8px 0';
                modalImg.classList.add('hidden');
                modalImg.parentNode.insertBefore(err, modalImg.nextSibling);
                addToCartBtn.disabled = true;
              }
            };
            document.getElementById('modal-name').textContent = name;
            document.getElementById('modal-price').textContent = price;
            document.getElementById('modal-desc').textContent = desc;
            const modal = document.getElementById('product-modal');
            modal.classList.remove('hidden');
            setTimeout(() => {
              modal.classList.remove('opacity-0');
              modal.querySelector('.bg-white').classList.remove('scale-95');
            }, 10);
          });
        });
      }
      function renderPaginationControls(totalPages) {
        paginationControls.innerHTML = '';
        if (totalPages <= 1) return;
        const prevBtn = document.createElement('button');
        prevBtn.textContent = 'Prev';
        prevBtn.className = 'px-3 py-1 rounded bg-[#e7edf4] text-[#0d151c] font-medium disabled:opacity-50';
        prevBtn.disabled = currentPage === 1;
        prevBtn.onclick = function() {
          if (currentPage > 1) {
            currentPage--;
            renderProducts();
          }
        };
        paginationControls.appendChild(prevBtn);
        for (let i = 1; i <= totalPages; i++) {
          const pageBtn = document.createElement('button');
          pageBtn.textContent = i;
          pageBtn.className = 'px-2 py-1 rounded ' + (i === currentPage ? 'bg-blue-600 text-white font-bold' : 'bg-[#e7edf4] text-[#0d151c] font-medium');
          pageBtn.disabled = i === currentPage;
          pageBtn.onclick = function() {
            currentPage = i;
            renderProducts();
          };
          paginationControls.appendChild(pageBtn);
        }
        const nextBtn = document.createElement('button');
        nextBtn.textContent = 'Next';
        nextBtn.className = 'px-3 py-1 rounded bg-[#e7edf4] text-[#0d151c] font-medium disabled:opacity-50';
        nextBtn.disabled = currentPage === totalPages;
        nextBtn.onclick = function() {
          if (currentPage < totalPages) {
            currentPage++;
            renderProducts();
          }
        };
        paginationControls.appendChild(nextBtn);
      }

      // --- Filter Dropdowns ---
      const dropdowns = [
        { btn: 'category-btn', dd: 'category-dropdown', arrow: 'category-arrow' },
        { btn: 'type-btn', dd: 'type-dropdown', arrow: 'type-arrow' },
        { btn: 'color-btn', dd: 'color-dropdown', arrow: 'color-arrow' },
        { btn: 'price-btn', dd: 'price-dropdown', arrow: 'price-arrow' }
      ];
      function closeAllDropdowns() {
        dropdowns.forEach(({ dd, arrow }) => {
          const ddEl = document.getElementById(dd);
          ddEl.classList.remove('open');
          setTimeout(() => ddEl.classList.add('hidden'), 300);
          document.getElementById(arrow).classList.remove('rotated');
        });
        sortDropdown.classList.remove('open');
        setTimeout(() => sortDropdown.classList.add('hidden'), 300);
        sortArrow.classList.remove('rotated');
      }
      dropdowns.forEach(({ btn, dd, arrow }) => {
        const btnEl = document.getElementById(btn);
        const ddEl = document.getElementById(dd);
        const arrowEl = document.getElementById(arrow);
        btnEl.addEventListener('click', function (e) {
          e.stopPropagation();
          const isOpen = ddEl.classList.contains('open');
          // Close other dropdowns first
          dropdowns.forEach(({ dd: otherDd, arrow: otherArrow }) => {
            if (otherDd !== dd) {
              const otherDdEl = document.getElementById(otherDd);
              otherDdEl.classList.remove('open');
              setTimeout(() => otherDdEl.classList.add('hidden'), 300);
              document.getElementById(otherArrow).classList.remove('rotated');
            }
          });
          // Close sort dropdown
          sortDropdown.classList.remove('open');
          setTimeout(() => sortDropdown.classList.add('hidden'), 300);
          sortArrow.classList.remove('rotated');
          
          // Toggle current dropdown
          if (!isOpen) {
            ddEl.classList.remove('hidden');
            setTimeout(() => ddEl.classList.add('open'), 10);
            arrowEl.classList.add('rotated');
          } else {
            ddEl.classList.remove('open');
            setTimeout(() => ddEl.classList.add('hidden'), 300);
            arrowEl.classList.remove('rotated');
          }
        });
        ddEl.addEventListener('click', function (e) { e.stopPropagation(); });
      });
      document.addEventListener('click', function () { closeAllDropdowns(); });

      // --- Filter Logic ---
      typeDropdown.querySelectorAll('.dropdown-option').forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          selectedType = this.textContent.trim();
          typeDropdown.classList.add('hidden');
          typeArrow.classList.remove('rotated');
          currentPage = 1;
          filterProducts();
          updateDropdownHighlights();
        });
      });
      colorDropdown.querySelectorAll('.dropdown-option').forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          selectedColor = this.textContent.trim().toLowerCase();
          colorDropdown.classList.add('hidden');
          colorArrow.classList.remove('rotated');
          filterProducts();
          updateDropdownHighlights();
        });
      });
      priceDropdown.querySelectorAll('.dropdown-option').forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          const val = this.textContent.trim();
          if (val.startsWith('Under')) selectedPrice = 'under4000';
          else if (val.startsWith('₹4,000–₹6,000')) selectedPrice = '4000-6000';
          else if (val.startsWith('₹6,000–₹8,000')) selectedPrice = '6000-8000';
          else if (val.startsWith('Over')) selectedPrice = 'over8000';
          priceDropdown.classList.add('hidden');
          priceArrow.classList.remove('rotated');
          filterProducts();
          updateDropdownHighlights();
        });
      });

      // --- Search ---
      searchInput.addEventListener('input', filterProducts);
      function filterProducts() {
        currentPage = 1;
        renderProducts();
        updateActiveFilters();
        updateDropdownHighlights();
      }

      // --- Active Filter Tags ---
      function updateActiveFilters() {
        activeFilters.innerHTML = '';
        if (selectedType) {
          const tag = document.createElement('span');
          tag.className = 'filter-tag';
          tag.innerHTML = `Type: ${selectedType} <span class="remove-tag" data-type="type">×</span>`;
          activeFilters.appendChild(tag);
        }
        if (selectedColor) {
          const tag = document.createElement('span');
          tag.className = 'filter-tag';
          tag.innerHTML = `Color: ${selectedColor.charAt(0).toUpperCase() + selectedColor.slice(1)} <span class="remove-tag" data-type="color">×</span>`;
          activeFilters.appendChild(tag);
        }
        if (selectedPrice) {
          let priceLabel = '';
          if (selectedPrice === 'under4000') priceLabel = 'Under ₹4,000';
          else if (selectedPrice === '4000-6000') priceLabel = '₹4,000–₹6,000';
          else if (selectedPrice === '6000-8000') priceLabel = '₹6,000–₹8,000';
          else if (selectedPrice === 'over8000') priceLabel = 'Over ₹8,000';
          const tag = document.createElement('span');
          tag.className = 'filter-tag';
          tag.innerHTML = `Price: ${priceLabel} <span class="remove-tag" data-type="price">×</span>`;
          activeFilters.appendChild(tag);
        }
        activeFilters.querySelectorAll('.remove-tag').forEach(el => {
          el.addEventListener('click', function() {
            const type = this.getAttribute('data-type');
            if (type === 'type') selectedType = null;
            if (type === 'color') selectedColor = null;
            if (type === 'price') selectedPrice = null;
            currentPage = 1;
            filterProducts();
            updateActiveFilters();
            updateDropdownHighlights();
          });
        });
      }

      // --- Dropdown Highlights ---
      function updateDropdownHighlights() {
        // Type
        typeDropdown.querySelectorAll('.dropdown-option').forEach(option => {
          if (selectedType && option.textContent.trim() === selectedType) {
            option.classList.add('selected');
          } else {
            option.classList.remove('selected');
          }
        });
        // Color
        colorDropdown.querySelectorAll('.dropdown-option').forEach(option => {
          if (selectedColor && option.textContent.trim().toLowerCase() === selectedColor) {
            option.classList.add('selected');
          } else {
            option.classList.remove('selected');
          }
        });
        // Price
        priceDropdown.querySelectorAll('.dropdown-option').forEach(option => {
          const val = option.textContent.trim();
          let match = false;
          if (selectedPrice === 'under4000' && val.startsWith('Under')) match = true;
          else if (selectedPrice === '4000-6000' && val.startsWith('₹4,000–₹6,000')) match = true;
          else if (selectedPrice === '6000-8000' && val.startsWith('₹6,000–₹8,000')) match = true;
          else if (selectedPrice === 'over8000' && val.startsWith('Over')) match = true;
          if (match) option.classList.add('selected');
          else option.classList.remove('selected');
        });
      }

      // --- Sort Dropdown ---
      const sortLabels = {
        'default': 'Sort',
        'price-asc': 'Price: Low to High',
        'price-desc': 'Price: High to Low',
        'name-asc': 'Name: A-Z',
        'name-desc': 'Name: Z-A'
      };
      sortBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        const isOpen = sortDropdown.classList.contains('open');
        // Close other dropdowns first
        dropdowns.forEach(({ dd, arrow }) => {
          const ddEl = document.getElementById(dd);
          ddEl.classList.remove('open');
          setTimeout(() => ddEl.classList.add('hidden'), 300);
          document.getElementById(arrow).classList.remove('rotated');
        });
        
        // Toggle sort dropdown
        if (!isOpen) {
          sortDropdown.classList.remove('hidden');
          setTimeout(() => sortDropdown.classList.add('open'), 10);
          sortArrow.classList.add('rotated');
        } else {
          sortDropdown.classList.remove('open');
          setTimeout(() => sortDropdown.classList.add('hidden'), 300);
          sortArrow.classList.remove('rotated');
        }
      });
      sortDropdown.addEventListener('click', function(e) { e.stopPropagation(); });
      sortDropdown.querySelectorAll('.dropdown-option').forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          currentSort = this.getAttribute('data-value');
          sortLabel.textContent = sortLabels[currentSort];
          sortDropdown.classList.remove('open');
          setTimeout(() => sortDropdown.classList.add('hidden'), 300);
          sortArrow.classList.remove('rotated');
          currentPage = 1;
          renderProducts();
          sortDropdown.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('selected'));
          this.classList.add('selected');
        });
      });
      sortLabel.textContent = sortLabels[currentSort];
      sortDropdown.querySelector('.dropdown-option[data-value="default"]').classList.add('selected');

      // --- Clear Filters ---
      clearBtn.addEventListener('click', function() {
        if (selectedType || selectedColor || selectedPrice || searchInput.value.trim() || currentSort !== 'default') {
          clearX.classList.add('shatter-x');
          setTimeout(() => { clearX.classList.remove('shatter-x'); }, 600);
        }
        selectedType = null;
        selectedColor = null;
        selectedPrice = null;
        searchInput.value = '';
        currentSort = 'default';
        sortLabel.textContent = sortLabels[currentSort];
        sortDropdown.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('selected'));
        sortDropdown.querySelector('.dropdown-option[data-value="default"]').classList.add('selected');
        filterProducts();
      });

      // --- Modal Close ---
      document.getElementById('product-modal').addEventListener('click', function (e) {
        if (e.target === this) {
          this.classList.add('opacity-0');
          this.querySelector('.bg-white').classList.add('scale-95');
          setTimeout(() => {
            this.classList.add('hidden');
          }, 300);
        }
      });

      // --- Search Bar Toggle ---
      const searchBarContainer = document.getElementById('search-bar-container');
      let searchBarVisible = false;
      const headerSearchBtn = document.getElementById('header-search-btn');
      if (headerSearchBtn) {
        headerSearchBtn.addEventListener('click', function(e) {
          e.preventDefault();
          searchBarVisible = !searchBarVisible;
          if (searchBarVisible) {
            searchBarContainer.classList.remove('opacity-0', '-translate-y-4', 'pointer-events-none');
            searchBarContainer.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto');
            productGrid.style.marginTop = '64px';
            setTimeout(() => { searchInput.focus(); }, 200);
          } else {
            searchBarContainer.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
            searchBarContainer.classList.add('opacity-0', '-translate-y-4', 'pointer-events-none');
            productGrid.style.marginTop = '0';
          }
        });
      }

      // --- Initial Render ---
      renderProducts();
      updateActiveFilters();
      updateDropdownHighlights();
    });
    // --- END JS LOGIC ---
    </script>
    
    <!-- Cart Functionality -->
    <script src="js/cart.js"></script>
    <script>
      // Update the Add to Cart button functionality
      document.getElementById('add-to-cart-btn').addEventListener('click', function() {
        const name = document.getElementById('modal-name').textContent;
        const price = document.getElementById('modal-price').textContent;
        const img = document.getElementById('modal-img').src;
        const desc = document.getElementById('modal-desc').textContent;
        
        const product = {
          name: name,
          price: price,
          img: img,
          desc: desc
        };
        
        addToCart(product);
        
        // Close modal
        const modal = document.getElementById('product-modal');
        modal.classList.add('opacity-0');
        modal.querySelector('.bg-white').classList.add('scale-95');
        setTimeout(() => {
          modal.classList.add('hidden');
        }, 300);
        
        alert(name + ' added to cart!');
      });
      
      // Categories dropdown functionality
      const categoriesLink = document.getElementById('categories-link');
      const categoriesDropdown = document.getElementById('categories-dropdown');
      
      if (categoriesLink && categoriesDropdown) {
        categoriesLink.addEventListener('click', function(e) {
          e.preventDefault();
          categoriesDropdown.classList.toggle('hidden');
        });
        
        document.addEventListener('click', function(e) {
          if (!categoriesLink.contains(e.target) && !categoriesDropdown.contains(e.target)) {
            categoriesDropdown.classList.add('hidden');
          }
        });
      }
      
      // Profile dropdown functionality
      const profileBtn = document.getElementById('profile-btn');
      const profileDropdown = document.getElementById('profile-dropdown');
      
      if (profileBtn && profileDropdown) {
        profileBtn.addEventListener('click', function(e) {
          e.preventDefault();
          profileDropdown.classList.toggle('hidden');
        });
        
        document.addEventListener('click', function(e) {
          if (!profileBtn.contains(e.target) && !profileDropdown.contains(e.target)) {
            profileDropdown.classList.add('hidden');
          }
        });
      }
      
      // Logout functionality
      const logoutBtn = document.getElementById('logout-btn');
      if (logoutBtn) {
        logoutBtn.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = 'login.html';
        });
      }
    </script>
  </body>
</html>