<!DOCTYPE html>
<html>
  <head>
    <title>Men - StyleZone</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin />
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'" href="https://fonts.googleapis.com/css2?display=swap&family=Noto+Sans:wght@400;500;700;900&family=Plus+Jakarta+Sans:wght@400;500;700;800" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <style>
      .rotate-arrow { transition: transform 0.3s cubic-bezier(0.4,0,0.2,1); }
      .rotate-arrow.rotated { transform: rotate(180deg); }
      .shatter-x .x-line1 { transform-origin: 25% 25%; animation: shatter-x-line1 0.5s forwards; }
      .shatter-x .x-line2 { transform-origin: 75% 75%; animation: shatter-x-line2 0.5s forwards; }
      @keyframes shatter-x-line1 { 0% { transform: rotate(45deg) scale(1); opacity: 1; } 80% { transform: rotate(45deg) scale(1.2) translate(-8px, -8px); opacity: 1; } 100% { transform: rotate(45deg) scale(1.2) translate(-24px, -24px); opacity: 0; } }
      @keyframes shatter-x-line2 { 0% { transform: rotate(-45deg) scale(1); opacity: 1; } 80% { transform: rotate(-45deg) scale(1.2) translate(8px, 8px); opacity: 1; } 100% { transform: rotate(-45deg) scale(1.2) translate(24px, 24px); opacity: 0; } }
      .dropdown-option.selected, .dropdown-option.selected:hover { background-color: #d1e3fa !important; color: #0c7ff2 !important; font-weight: bold; }
      .active-filters { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 0.5rem; margin-left: 1rem; }
      .filter-tag { background: #e7edf4; color: #0d151c; border-radius: 9999px; padding: 0.25rem 0.75rem; font-size: 0.875rem; display: flex; align-items: center; gap: 0.25rem; }
      .filter-tag .remove-tag { cursor: pointer; margin-left: 0.25rem; font-weight: bold; }
      /* Dropdown animation */
      .dropdown-anim { transition: opacity 0.3s cubic-bezier(0.4,0,0.2,1), transform 0.3s cubic-bezier(0.4,0,0.2,1); opacity: 0; transform: translateY(-8px) scale(0.98); pointer-events: none; }
      .dropdown-anim.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: auto; }
    </style>
  </head>
  <body>
    <div class="relative flex size-full min-h-screen flex-col bg-slate-50 group/design-root overflow-x-hidden" style='font-family: "Plus Jakarta Sans", "Noto Sans", sans-serif;'>
      <div class="layout-container flex h-full grow flex-col">
        <!-- Header -->
        <header class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#e7edf4] px-10 py-3">
          <div class="flex items-center gap-4 text-[#0d141c]">
            <div class="size-4">
              <svg viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M24 18.4228L42 11.475V34.3663C42 34.7796 41.7457 35.1504 41.3601 35.2992L24 42V18.4228Z" fill="currentColor"></path>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M24 8.18819L33.4123 11.574L24 15.2071L14.5877 11.574L24 8.18819ZM9 15.8487L21 20.4805V37.6263L9 32.9945V15.8487ZM27 37.6263V20.4805L39 15.8487V32.9945L27 37.6263ZM25.354 2.29885C24.4788 1.98402 23.5212 1.98402 22.646 2.29885L4.98454 8.65208C3.7939 9.08038 3 10.2097 3 11.475V34.3663C3 36.0196 4.01719 37.5026 5.55962 38.098L22.9197 44.7987C23.6149 45.0671 24.3851 45.0671 25.0803 44.7987L42.4404 38.098C43.9828 37.5026 45 36.0196 45 34.3663V11.475C45 10.2097 44.2061 9.08038 43.0155 8.65208L25.354 2.29885Z" fill="currentColor"></path>
              </svg>
            </div>
            <h2 class="text-[#0d141c] text-lg font-bold leading-tight tracking-[-0.015em]">StyleZone</h2>
            <div class="flex items-center gap-9 ml-8">
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="index.html">Home</a>
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="shop.html">Shop</a>
              <a class="text-[#0d141c] text-sm font-medium leading-normal" href="categories.html">Categories</a>
            </div>
          </div>
          <div class="flex gap-2">
            <button id="header-search-btn" class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
              <div class="text-[#0d141c]">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                </svg>
              </div>
            </button>
            <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5">
              <div class="text-[#0d141c]">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M222.14,58.87A8,8,0,0,0,216,56H54.68L49.79,29.14A16,16,0,0,0,34.05,16H16a8,8,0,0,0,0,16h18L59.56,172.29a24,24,0,0,0,5.33,11.27,28,28,0,1,0,44.4,8.44h45.42A27.75,27.75,0,0,0,152,204a28,28,0,1,0,28-28H83.17a8,8,0,0,1-7.87-6.57L72.13,152h116a24,24,0,0,0,23.61-19.71l12.16-66.86A8,8,0,0,0,222.14,58.87ZM96,204a12,12,0,1,1-12-12A12,12,0,0,1,96,204Zm96,0a12,12,0,1,1-12-12A12,12,0,0,1,192,204Zm4-74.57A8,8,0,0,1,188.1,136H69.22L57.59,72H206.41Z"></path>
                </svg>
              </div>
            </button>
            <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 bg-[#e7edf4] text-[#0d141c] gap-2 text-sm font-bold leading-normal tracking-[0.015em] min-w-0 px-2.5" aria-label="Account">
              <div class="text-[#0d141c]">
                <svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                  <path d="M128,128a48,48,0,1,0-48-48A48,48,0,0,0,128,128Zm0,16c-39.7,0-72,32.3-72,72a8,8,0,0,0,8,8H192a8,8,0,0,0,8-8C200,176.3,167.7,144,128,144Z"></path>
                </svg>
              </div>
            </button>
          </div>
        </header>
        <!-- Main Content -->
        <div class="px-40 flex flex-1 justify-center py-5">
          <div class="layout-content-container flex flex-col max-w-[960px] flex-1">
            <div class="flex flex-wrap justify-between gap-3 p-4">
              <div class="flex min-w-72 flex-col gap-3">
                <p class="text-[#0d151c] tracking-light text-[32px] font-bold leading-tight">Men</p>
                <p class="text-[#49749c] text-sm font-normal leading-normal">Explore the latest trends and essentials for men.</p>
              </div>
            </div>
            <!-- Filter and Search -->
            <div class="flex gap-4 p-3 flex-wrap pr-4 -ml-3 mb-2">
              <!-- Active filter tags -->
              <div id="active-filters" class="active-filters"></div>
              <!-- Sort Button Dropdown -->
              <div class="relative">
                <button id="sort-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                  <p id="sort-label" class="text-[#0d151c] text-sm font-medium leading-normal">Sort</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="sort-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                    </svg>
                  </span>
                </button>
                <div id="sort-dropdown" class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="default">Default</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="price-asc">Price: Low to High</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="price-desc">Price: High to Low</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="name-asc">Name: A-Z</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option" data-value="name-desc">Name: Z-A</a>
                </div>
              </div>
              <div class="relative">
                <button id="category-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Category</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="category-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="category-dropdown" class="absolute left-0 mt-2 w-56 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="shoes.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/shoes.png" alt="Shoes" class="w-5 h-5"/>
                    <span>Shoes</span>
                  </a>
                  <a href="men.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/businessman.png" alt="Men" class="w-5 h-5"/>
                    <span>Men</span>
                  </a>
                  <a href="women.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/businesswoman.png" alt="Women" class="w-5 h-5"/>
                    <span>Women</span>
                  </a>
                  <a href="watches.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/apple-watch-apps.png" alt="Watches" class="w-5 h-5"/>
                    <span>Watches</span>
                  </a>
                  <a href="bags.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/shopping-bag.png" alt="Bags" class="w-5 h-5"/>
                    <span>Bags</span>
                  </a>
                  <a href="clothing.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/t-shirt.png" alt="Clothing" class="w-5 h-5"/>
                    <span>Clothing</span>
                  </a>
                  <a href="accessories.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <svg class="w-5 h-5" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <ellipse cx="22" cy="50" rx="13" ry="10" fill="#0c7ff2"/>
                      <ellipse cx="58" cy="50" rx="13" ry="10" fill="#0c7ff2"/>
                      <rect x="22" y="48" width="36" height="5" fill="#0c7ff2"/>
                      <rect x="8" y="49" width="5" height="3" fill="#0c7ff2"/>
                      <rect x="67" y="49" width="5" height="3" fill="#0c7ff2"/>
                      <rect x="37" y="45" width="6" height="5" fill="#0c7ff2"/>
                    </svg>
                    <span>Accessories</span>
                  </a>
                  <a href="jewelry.html" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4]">
                    <img src="https://img.icons8.com/ios-filled/32/0c7ff2/necklace.png" alt="Jewelry" class="w-5 h-5"/>
                    <span>Jewelry</span>
                  </a>
                </div>
              </div>
              <div class="relative">
                <button id="size-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Size</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="size-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="size-dropdown" class="absolute left-0 mt-2 w-32 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">S</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">M</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">L</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">XL</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">XXL</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">30</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">32</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">34</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">36</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">38</a>
                </div>
              </div>
              <div class="relative">
                <button id="color-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Color</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="color-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </svg>
                  </span>
                </button>
                <div id="color-dropdown" class="absolute left-0 mt-2 w-40 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#222"></span>Black</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full border border-gray-300 bg-white"></span>White</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#8B5C2A"></span>Brown</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#2563eb"></span>Blue</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#e11d48"></span>Red</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#22c55e"></span>Green</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#6b7280"></span>Grey</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:gold"></span>Gold</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:silver"></span>Silver</a>
                  <a href="#" class="flex items-center gap-2 px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option"><span class="inline-block w-4 h-4 rounded-full" style="background:#ec4899"></span>Pink</a>
                </div>
              </div>
              <div class="relative">
                <button id="price-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] pl-4 pr-2 focus:outline-none">
                <p class="text-[#0d151c] text-sm font-medium leading-normal">Price</p>
                  <span class="arrow-wrapper flex items-center">
                    <svg id="price-arrow" class="rotate-arrow transition-transform duration-300" xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" fill="currentColor" viewBox="0 0 256 256">
                    <path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path>
                  </span>
                </button>
                <div id="price-dropdown" class="absolute left-0 mt-2 w-48 bg-white border border-gray-200 rounded shadow-lg z-10 hidden dropdown-anim">
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Under ₹4,000</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">₹4,000–₹6,000</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">₹6,000–₹8,000</a>
                  <a href="#" class="block px-4 py-2 text-[#0d151c] hover:bg-[#e7edf4] dropdown-option">Over ₹8,000</a>
                </div>
              </div>
              <button id="clear-filters-btn" class="flex h-8 shrink-0 items-center justify-center gap-x-2 rounded-full bg-[#e7edf4] px-4 text-[#0d151c] text-sm font-medium leading-normal ml-2 hover:bg-[#d1e3fa] transition-colors">
                <svg id="clear-x-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24">
                  <line class="x-line1" x1="6" y1="6" x2="18" y2="18" stroke="#0d151c" stroke-width="2" stroke-linecap="round" />
                  <line class="x-line2" x1="18" y1="6" x2="6" y2="18" stroke="#0d151c" stroke-width="2" stroke-linecap="round" />
                </svg>
                Clear Filters
              </button>
            </div>
            <!-- Search Bar -->
            <div class="bg-[#e7edf4] rounded-xl transition-all duration-300 ease-in-out opacity-0 -translate-y-4 pointer-events-none mt-0 mb-2" id="search-bar-container">
              <label class="flex flex-col min-w-40 h-12 w-full">
                <div class="flex w-full flex-1 items-center rounded-xl h-12">
                  <div class="text-[#49749c] flex border-none bg-[#e7edf4] items-center justify-center pl-4 rounded-l-xl border-r-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor" viewBox="0 0 256 256">
                      <path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"></path>
                    </svg>
                  </div>
                  <input
                    id="product-search"
                    placeholder="Search for products"
                    class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-[#0d151c] focus:outline-0 focus:ring-0 border-none bg-[#e7edf4] focus:border-none h-12 placeholder:text-[#49749c] px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                    value=""
                  />
                </div>
              </label>
            </div>
            <!-- Product Grid -->
            <div class="grid grid-cols-[repeat(auto-fit,minmax(158px,1fr))] gap-3 pt-0 transition-all duration-300 ease-in-out" id="product-grid">
              <!-- Product cards will be generated by JS -->
            </div>
            <!-- Pagination Controls -->
            <div class="flex justify-center items-center gap-2 py-4" id="pagination-controls"></div>
          </div>
        </div>
        <!-- Product Popup Modal -->
        <div id="product-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 hidden opacity-0 transition-all duration-300 ease-in-out">
          <div class="bg-white rounded-xl shadow-xl flex flex-col items-center px-8 py-8 w-full max-w-md transform scale-95 transition-all duration-300 ease-in-out">
            <img id="modal-img" src="" alt="" class="rounded-lg w-48 h-48 object-cover mb-4" />
            <div class="text-black font-bold text-lg mb-2 text-center" id="modal-name"></div>
            <div class="text-[#49749c] text-base mb-2" id="modal-price"></div>
            <div class="text-gray-600 text-center mb-4" id="modal-desc"></div>
            <button id="add-to-cart-btn" class="mt-2 bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 font-bold">Add to Cart</button>
          </div>
        </div>
        <script>
// --- Product Data (from Mens folder) ---
const mensProducts = [
  { name: "Garment-dyed iconic fit five-pocket trousers in denim", img: "Mens/Garment-dyed iconic fit five-pocket trousers in denim.png", price: "₹5,499", desc: "Iconic fit, garment-dyed denim trousers with five pockets.", color: "blue", category: "Trousers" },
  { name: "Garment-dyed slim fit trousers in comfort cotton lightweight denim", img: "Mens/Garment-dyed slim fit trousers in comfort cotton lightweight denim.png", price: "₹5,299", desc: "Slim fit, comfort cotton lightweight denim trousers.", color: "blue", category: "Trousers" },
  { name: "Garment-dyed leisure fit five-pocket trousers in denim", img: "Mens/Garment-dyed leisure fit five-pocket trousers in denim.png", price: "₹5,299", desc: "Leisure fit, garment-dyed denim trousers with five pockets.", color: "blue", category: "Trousers" },
  { name: "Grey denim iconic fit five-pocket trousers", img: "Mens/Grey denim iconic fit five-pocket trousers.png", price: "₹5,499", desc: "Iconic fit, grey denim trousers with five pockets.", color: "grey", category: "Trousers" },
  { name: "Silk diagonal tuxedo trousers with double pleats and tabbed waistband", img: "Mens/Silk diagonal tuxedo trousers with double pleats and tabbed waistband.png", price: "₹8,999", desc: "Silk diagonal tuxedo trousers with double pleats and tabbed waistband.", color: "black", category: "Trousers" },
  { name: "Wool, silk and linen chevron leisure fit trousers with double pleats and waist tabs", img: "Mens/Wool, silk and linen chevron leisure fit trousers with double pleats and waist tabs.png", price: "₹7,999", desc: "Leisure fit chevron trousers in wool, silk, and linen.", color: "grey", category: "Trousers" },
  { name: "Wool, silk and linen chevron one-and-a-half breasted deconstructed blazer with metal buttons", img: "Mens/Wool, silk and linen chevron one-and-a-half breasted deconstructed blazer with metal buttons.png", price: "₹9,499", desc: "Chevron deconstructed blazer with metal buttons.", color: "grey", category: "Blazers" },
  { name: "Nylon swim shorts with contrast details and print", img: "Mens/Nylon swim shorts with contrast details and print.png", price: "₹3,499", desc: "Nylon swim shorts with contrast details and print.", color: "blue", category: "Shorts" },
  { name: "Honeycomb texture cotton easy fit shirt with camp collar and piping", img: "Mens/Honeycomb texture cotton easy fit shirt with camp collar and piping.png", price: "₹4,299", desc: "Easy fit shirt with honeycomb texture and camp collar.", color: "white", category: "Shirts" },
  { name: "Cotton striped knit polo shirt with twill collar", img: "Mens/Cotton striped knit polo shirt with twill collar.png", price: "₹3,999", desc: "Striped knit polo shirt with twill collar.", color: "blue", category: "Shirts" },
  { name: "Virgin wool, abaca and silk twill relaxed fit trousers with patch pockets and drawstring", img: "Mens/Virgin wool, abaca and silk twill relaxed fit trousers with patch pockets and drawstring.png", price: "₹6,999", desc: "Relaxed fit twill trousers with patch pockets and drawstring.", color: "grey", category: "Trousers" },
  { name: "Cotton and linen half English rib chiné cardiga", img: "Mens/Cotton and linen half English rib chiné cardiga.png", price: "₹4,999", desc: "Half English rib chiné cardigan in cotton and linen.", color: "white", category: "Cardigans" },
  { name: "Forest Explore Jacket", img: "Mens/Forest Explore Jacket.png", price: "₹7,499", desc: "Forest Explore outdoor jacket.", color: "green", category: "Jackets" },
  { name: "Christian Dior Couture Track Pants", img: "Mens/Christian Dior Couture Track Pants.png", price: "₹6,499", desc: "Christian Dior Couture track pants.", color: "black", category: "Trousers" },
  { name: "Cargo Pants", img: "Mens/Cargo Pants.png", price: "₹4,799", desc: "Classic cargo pants for men.", color: "green", category: "Trousers" },
  { name: "Tailored and Cuffed Chinos", img: "Mens/Tailored and Cuffed Chinos.png", price: "₹5,299", desc: "Tailored and cuffed chinos for men.", color: "brown", category: "Trousers" },
  { name: "Double-Breasted Jacket with Buttoned Strap", img: "Mens/Double-Breasted Jacket with Buttoned Strap.png", price: "₹8,499", desc: "Double-breasted jacket with buttoned strap.", color: "blue", category: "Jackets" },
  { name: "Christian Dior Couture Lily of the Valley Varsity Jacket", img: "Mens/Christian Dior Couture Lily of the Valley Varsity Jacket.png", price: "₹9,299", desc: "Varsity jacket with Lily of the Valley motif.", color: "blue", category: "Jackets" },
  { name: "Cargo Shorts with Saddle Pocket", img: "Mens/Cargo Shorts with Saddle Pocket.png", price: "₹3,999", desc: "Cargo shorts with saddle pocket.", color: "green", category: "Shorts" },
  { name: "CD Diamond Hooded Blouson Jacket", img: "Mens/CD Diamond Hooded Blouson Jacket.png", price: "₹7,999", desc: "Diamond hooded blouson jacket.", color: "black", category: "Jackets" },
  { name: "Zipped Shirt with Christian Dior Couture Embroidery", img: "Mens/Zipped Shirt with Christian Dior Couture Embroidery.png", price: "₹4,499", desc: "Zipped shirt with Christian Dior Couture embroidery.", color: "white", category: "Shirts" },
  { name: "Christian Dior Couture Shirt", img: "Mens/Christian Dior Couture Shirt.png", price: "₹5,499", desc: "Christian Dior Couture shirt.", color: "white", category: "Shirts" },
  { name: "Loose Pants with Double Pocket", img: "Mens/Loose Pants with Double Pocket.png", price: "₹4,299", desc: "Loose pants with double pocket.", color: "grey", category: "Trousers" },
  { name: "Blouson Jacket", img: "Mens/Blouson Jacket.png", price: "₹6,999", desc: "Classic blouson jacket for men.", color: "blue", category: "Jackets" },
  { name: "The Conqueror Jacket", img: "Mens/The Conqueror Jacket.png", price: "₹8,999", desc: "The Conqueror outdoor jacket.", color: "green", category: "Jackets" },
  { name: "Winged warrior Jacket", img: "Mens/Winged warrior Jacket.png", price: "₹7,499", desc: "Winged warrior themed jacket.", color: "black", category: "Jackets" },
  { name: "Falcon Relaxed Fit T-shirt", img: "Mens/Falcon Relaxed Fit T-shirt.png", price: "₹2,999", desc: "Relaxed fit Falcon T-shirt.", color: "white", category: "T-Shirts" },
  { name: "Wild Grey Relaxed Fit T-Shirt", img: "Mens/Wild Grey Relaxed Fit T-Shirt.png", price: "₹2,999", desc: "Wild grey relaxed fit T-shirt.", color: "grey", category: "T-Shirts" },
  { name: "Garment-dyed linen shirt with French collar", img: "Mens/Garment-dyed linen shirt with French collar.png", price: "₹4,999", desc: "Garment-dyed linen shirt with French collar.", color: "white", category: "Shirts" },
  { name: "Cotton chambray shirt", img: "Mens/Cotton chambray shirt.png", price: "₹3,999", desc: "Cotton chambray shirt for men.", color: "blue", category: "Shirts" },
  { name: "Stitched-jersey single-breasted jacket", img: "Mens/Stitched-jersey single-breasted jacket.png", price: "₹7,499", desc: "Single-breasted stitched-jersey jacket.", color: "grey", category: "Jackets" },
  { name: "Piqué polo shirt with micro eagle embroidery and trim", img: "Mens/Piqué polo shirt with micro eagle embroidery and trim.png", price: "₹3,499", desc: "Piqué polo shirt with micro eagle embroidery.", color: "white", category: "Shirts" },
  { name: "Plain-knit, virgin-wool V-neck cardigan", img: "Mens/Plain-knit, virgin-wool V-neck cardigan.png", price: "₹5,999", desc: "Plain-knit, virgin-wool V-neck cardigan.", color: "grey", category: "Cardigans" },
  { name: "Single-breasted, worsted virgin-wool jacket", img: "Mens/Single-breasted, worsted virgin-wool jacket.png", price: "₹8,499", desc: "Single-breasted, worsted virgin-wool jacket.", color: "grey", category: "Jackets" },
  { name: "ASV Short-sleeved, oversized jersey hooded sweatshirt", img: "Mens/ASV Short-sleeved, oversized jersey hooded sweatshirt.png", price: "₹4,499", desc: "ASV short-sleeved, oversized jersey hooded sweatshirt.", color: "blue", category: "Sweatshirts" },
  { name: "Piqué polo shirt with contrasting knit trim", img: "Mens/Piqué polo shirt with contrasting knit trim.png", price: "₹3,999", desc: "Piqué polo shirt with contrasting knit trim.", color: "blue", category: "Shirts" },
  { name: "Semi-aniline nappa lambskin blouson with full-length zip", img: "Mens/Semi-aniline nappa lambskin blouson with full-length zip.png", price: "₹9,999", desc: "Semi-aniline nappa lambskin blouson with full-length zip.", color: "black", category: "Jackets" },
  { name: "ASV Lyocell blend jersey T-shirt with embroidery", img: "Mens/ASV Lyocell blend jersey T-shirt with embroidery.png", price: "₹2,999", desc: "ASV Lyocell blend jersey T-shirt with embroidery.", color: "white", category: "T-Shirts" },
  { name: "Zipped hooded jacket", img: "Mens/Zipped hooded jacket.png", price: "₹6,499", desc: "Zipped hooded jacket for men.", color: "blue", category: "Jackets" },
  { name: "Technical Shell Ski Jacket", img: "Mens/Technical Shell Ski Jacket.png", price: "₹8,999", desc: "Technical shell ski jacket for men.", color: "blue", category: "Jackets" },
  { name: "Cotton Jersey Varsity Blouson", img: "Mens/Cotton Jersey Varsity Blouson.png", price: "₹5,499", desc: "Cotton jersey varsity blouson.", color: "blue", category: "Jackets" },
  { name: "Iridescent Jacquard Short-Sleeved Polo", img: "Mens/Iridescent Jacquard Short-Sleeved Polo.png", price: "₹3,999", desc: "Iridescent jacquard short-sleeved polo.", color: "blue", category: "Shirts" },
  { name: "Quilted nylon full-zip down jacket with eagle logo patch", img: "Mens/Quilted nylon full-zip down jacket with eagle logo patch.png", price: "₹7,999", desc: "Quilted nylon full-zip down jacket with eagle logo patch.", color: "blue", category: "Jackets" },
  { name: "Virgin-wool jumper with two-tone jacquard micro motif", img: "Mens/Virgin-wool jumper with two-tone jacquard micro motif.png", price: "₹5,999", desc: "Virgin-wool jumper with two-tone jacquard micro motif.", color: "grey", category: "Sweatshirts" },
  { name: "Modal-blend sweatshirt with logo print", img: "Mens/Modal-blend sweatshirt with logo print.png", price: "₹3,999", desc: "Modal-blend sweatshirt with logo print.", color: "blue", category: "Sweatshirts" },
  { name: "Virgin wool jumper with embossed jacquard pattern", img: "Mens/Virgin wool jumper with embossed jacquard pattern.png", price: "₹6,499", desc: "Virgin wool jumper with embossed jacquard pattern.", color: "grey", category: "Sweatshirts" },
  { name: "ASV plain-knit jumper with polo-shirt collar, in a wool and Lyocell blend", img: "Mens/ASV plain-knit jumper with polo-shirt collar, in a wool and Lyocell blend.png", price: "₹4,999", desc: "ASV plain-knit jumper with polo-shirt collar, in a wool and Lyocell blend.", color: "blue", category: "Sweatshirts" },
  { name: "Cotton trousers with matching belt", img: "Mens/Cotton trousers with matching belt.png", price: "₹4,499", desc: "Cotton trousers with matching belt.", color: "brown", category: "Trousers" },
  { name: "ASV sweatshirt in double jersey with hood and all-over diamond print", img: "Mens/ASV sweatshirt in double jersey with hood and all-over diamond print.png", price: "₹5,999", desc: "ASV sweatshirt in double jersey with hood and all-over diamond print.", color: "blue", category: "Sweatshirts" },
  { name: "ASV full-zip sweatshirt in Lyocell-blend jacquard jersey", img: "Mens/ASV full-zip sweatshirt in Lyocell-blend jacquard jersey.png", price: "₹5,499", desc: "ASV full-zip sweatshirt in Lyocell-blend jacquard jersey.", color: "blue", category: "Sweatshirts" }
];
// --- END Product Data ---

// Fisher-Yates shuffle
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}
shuffleArray(mensProducts);

// --- JS LOGIC (adapted from shoes.html) ---
document.addEventListener('DOMContentLoaded', function () {
  // DOM elements
  const productGrid = document.getElementById('product-grid');
  const paginationControls = document.getElementById('pagination-controls');
  const searchInput = document.getElementById('product-search');
  const sortBtn = document.getElementById('sort-btn');
  const sortDropdown = document.getElementById('sort-dropdown');
  const sortArrow = document.getElementById('sort-arrow');
  const sortLabel = document.getElementById('sort-label');
  const categoryBtn = document.getElementById('category-btn');
  const categoryDropdown = document.getElementById('category-dropdown');
  const categoryArrow = document.getElementById('category-arrow');
  const sizeBtn = document.getElementById('size-btn');
  const sizeDropdown = document.getElementById('size-dropdown');
  const sizeArrow = document.getElementById('size-arrow');
  const colorBtn = document.getElementById('color-btn');
  const colorDropdown = document.getElementById('color-dropdown');
  const colorArrow = document.getElementById('color-arrow');
  const priceBtn = document.getElementById('price-btn');
  const priceDropdown = document.getElementById('price-dropdown');
  const priceArrow = document.getElementById('price-arrow');
  const clearBtn = document.getElementById('clear-filters-btn');
  const clearX = document.getElementById('clear-x-icon');
  const activeFilters = document.getElementById('active-filters');
  let currentSort = 'default';
  let currentPage = 1;
  const PRODUCTS_PER_PAGE = 12;
  let selectedCategory = null;
  let selectedSize = null;
  let selectedColor = null;
  let selectedPrice = null;

  // --- Render Product Cards ---
  let allProductCards = [];
  function createProductCard(product) {
    const card = document.createElement('div');
    card.className = 'flex flex-col gap-3 pb-3 product-card cursor-pointer';
    card.setAttribute('data-name', product.name);
    card.setAttribute('data-price', product.price);
    card.setAttribute('data-img', product.img);
    card.setAttribute('data-desc', product.desc);
    card.setAttribute('data-color', product.color);
    card.setAttribute('data-category', product.category);
    card.innerHTML = `
      <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-xl product-img" style='background-image: url("${product.img}");'></div>
      <div>
        <p class="text-[#0d151c] text-base font-medium leading-normal product-name">${product.name}</p>
        <p class="text-[#49749c] text-sm font-normal leading-normal product-price">${product.price}</p>
      </div>
    `;
    return card;
  }
  function renderAllProductCards() {
    allProductCards = mensProducts.map(createProductCard);
  }
  renderAllProductCards();

  // --- Filtering, Sorting, Pagination ---
  function getFilteredProductCards() {
    const query = searchInput.value.trim().toLowerCase();
    let filtered = allProductCards.filter(card => {
      const name = card.getAttribute('data-name').toLowerCase();
      const priceStr = card.getAttribute('data-price').replace(/[^\d]/g, '');
      const price = parseInt(priceStr, 10);
      const desc = (card.getAttribute('data-desc') || '').toLowerCase();
      const color = (card.getAttribute('data-color') || '').toLowerCase();
      const category = (card.getAttribute('data-category') || '').toLowerCase();
      let show = true;
      if (query && !(name.includes(query) || card.getAttribute('data-price').toLowerCase().includes(query) || desc.includes(query))) show = false;
      if (selectedCategory && selectedCategory !== 'all' && show) {
        if (category !== selectedCategory.toLowerCase()) show = false;
      }
      if (selectedSize && show) {
        show = true; // (Size logic can be expanded if you have size data)
      }
      if (selectedColor && show) {
        if (color !== selectedColor) show = false;
      }
      if (selectedPrice && show) {
        if (selectedPrice === 'under4000' && !(price < 4000)) show = false;
        if (selectedPrice === '4000-6000' && !(price >= 4000 && price <= 6000)) show = false;
        if (selectedPrice === '6000-8000' && !(price > 6000 && price <= 8000)) show = false;
        if (selectedPrice === 'over8000' && !(price > 8000)) show = false;
      }
      return show;
    });
    // Sorting
    if (currentSort === 'price-asc') {
      filtered.sort((a, b) => {
        const pa = Number(a.getAttribute('data-price').replace(/[^\d]/g, ''));
        const pb = Number(b.getAttribute('data-price').replace(/[^\d]/g, ''));
        return pa - pb;
      });
    } else if (currentSort === 'price-desc') {
      filtered.sort((a, b) => {
        const pa = Number(a.getAttribute('data-price').replace(/[^\d]/g, ''));
        const pb = Number(b.getAttribute('data-price').replace(/[^\d]/g, ''));
        return pb - pa;
      });
    } else if (currentSort === 'name-asc') {
      filtered.sort((a, b) => a.getAttribute('data-name').localeCompare(b.getAttribute('data-name')));
    } else if (currentSort === 'name-desc') {
      filtered.sort((a, b) => b.getAttribute('data-name').localeCompare(a.getAttribute('data-name')));
    }
    return filtered;
  }
  function renderProducts() {
    const filtered = getFilteredProductCards();
    const totalPages = Math.ceil(filtered.length / PRODUCTS_PER_PAGE) || 1;
    if (currentPage > totalPages) currentPage = totalPages;
    productGrid.innerHTML = '';
    const start = (currentPage - 1) * PRODUCTS_PER_PAGE;
    const end = start + PRODUCTS_PER_PAGE;
    filtered.slice(start, end).forEach(card => {
      productGrid.appendChild(card);
      card.style.display = '';
    });
    renderPaginationControls(totalPages);
    // Modal logic for new cards
    productGrid.querySelectorAll('.product-card').forEach(card => {
      card.addEventListener('click', function () {
        const img = card.getAttribute('data-img');
        const name = card.getAttribute('data-name');
        const price = card.getAttribute('data-price');
        const desc = card.getAttribute('data-desc') || "";
        const modalImg = document.getElementById('modal-img');
        const addToCartBtn = document.getElementById('add-to-cart-btn');
        modalImg.src = img;
        modalImg.alt = name;
        modalImg.classList.remove('hidden');
        let errorMsg = document.getElementById('modal-img-error');
        if (errorMsg) errorMsg.remove();
        addToCartBtn.disabled = false;
        modalImg.onerror = function() {
          this.onerror = null;
          this.src = '/public/vite.svg';
          if (!document.getElementById('modal-img-error')) {
            const err = document.createElement('div');
            err.id = 'modal-img-error';
            err.textContent = 'Image failed to load.';
            err.style.color = '#e53e3e';
            err.style.fontWeight = 'bold';
            err.style.margin = '8px 0';
            modalImg.classList.add('hidden');
            modalImg.parentNode.insertBefore(err, modalImg.nextSibling);
            addToCartBtn.disabled = true;
          }
        };
        document.getElementById('modal-name').textContent = name;
        document.getElementById('modal-price').textContent = price;
        document.getElementById('modal-desc').textContent = desc;
        const modal = document.getElementById('product-modal');
        modal.classList.remove('hidden');
        setTimeout(() => {
          modal.classList.remove('opacity-0');
          modal.querySelector('.bg-white').classList.remove('scale-95');
        }, 10);
      });
    });
  }
  function renderPaginationControls(totalPages) {
    paginationControls.innerHTML = '';
    if (totalPages <= 1) return;
    const prevBtn = document.createElement('button');
    prevBtn.textContent = 'Prev';
    prevBtn.className = 'px-3 py-1 rounded bg-[#e7edf4] text-[#0d151c] font-medium disabled:opacity-50';
    prevBtn.disabled = currentPage === 1;
    prevBtn.onclick = function() {
      if (currentPage > 1) {
        currentPage--;
        renderProducts();
      }
    };
    paginationControls.appendChild(prevBtn);
    for (let i = 1; i <= totalPages; i++) {
      const pageBtn = document.createElement('button');
      pageBtn.textContent = i;
      pageBtn.className = 'px-2 py-1 rounded ' + (i === currentPage ? 'bg-blue-600 text-white font-bold' : 'bg-[#e7edf4] text-[#0d151c] font-medium');
      pageBtn.disabled = i === currentPage;
      pageBtn.onclick = function() {
        currentPage = i;
        renderProducts();
      };
      paginationControls.appendChild(pageBtn);
    }
    const nextBtn = document.createElement('button');
    nextBtn.textContent = 'Next';
    nextBtn.className = 'px-3 py-1 rounded bg-[#e7edf4] text-[#0d151c] font-medium disabled:opacity-50';
    nextBtn.disabled = currentPage === totalPages;
    nextBtn.onclick = function() {
      if (currentPage < totalPages) {
        currentPage++;
        renderProducts();
      }
    };
    paginationControls.appendChild(nextBtn);
  }

  // --- Filter Dropdowns ---
  const dropdowns = [
    { btn: 'category-btn', dd: 'category-dropdown', arrow: 'category-arrow' },
    { btn: 'size-btn', dd: 'size-dropdown', arrow: 'size-arrow' },
    { btn: 'color-btn', dd: 'color-dropdown', arrow: 'color-arrow' },
    { btn: 'price-btn', dd: 'price-dropdown', arrow: 'price-arrow' }
  ];
  function closeAllDropdowns() {
    dropdowns.forEach(({ dd, arrow }) => {
      const ddEl = document.getElementById(dd);
      if (ddEl.classList.contains('open')) {
        ddEl.classList.remove('open');
        setTimeout(() => ddEl.classList.add('hidden'), 300);
      } else {
        ddEl.classList.add('hidden');
      }
      document.getElementById(arrow).classList.remove('rotated');
    });
    if (sortDropdown.classList.contains('open')) {
      sortDropdown.classList.remove('open');
      setTimeout(() => sortDropdown.classList.add('hidden'), 300);
    } else {
      sortDropdown.classList.add('hidden');
    }
    sortArrow.classList.remove('rotated');
  }
  dropdowns.forEach(({ btn, dd, arrow }) => {
    const btnEl = document.getElementById(btn);
    const ddEl = document.getElementById(dd);
    const arrowEl = document.getElementById(arrow);
    btnEl.addEventListener('click', function (e) {
      e.stopPropagation();
      if (ddEl.classList.contains('open')) {
        closeAllDropdowns();
      } else {
        closeAllDropdowns();
        ddEl.classList.remove('hidden');
        setTimeout(() => ddEl.classList.add('open'), 10);
        arrowEl.classList.add('rotated');
      }
    });
    ddEl.addEventListener('click', function (e) { e.stopPropagation(); });
  });
  sortBtn.addEventListener('click', function(e) {
    e.stopPropagation();
    if (sortDropdown.classList.contains('open')) {
      closeAllDropdowns();
    } else {
      closeAllDropdowns();
      sortDropdown.classList.remove('hidden');
      setTimeout(() => sortDropdown.classList.add('open'), 10);
      sortArrow.classList.add('rotated');
    }
  });
  sortDropdown.addEventListener('click', function(e) { e.stopPropagation(); });
  document.addEventListener('click', function () { closeAllDropdowns(); });

  // --- Filter Logic ---
  categoryDropdown.querySelectorAll('.dropdown-option').forEach(option => {
    option.addEventListener('click', function(e) {
      e.preventDefault();
      selectedCategory = this.getAttribute('data-value');
      categoryDropdown.classList.add('hidden');
      categoryArrow.classList.remove('rotated');
      currentPage = 1;
      filterProducts();
      updateDropdownHighlights();
    });
  });
  sizeDropdown.querySelectorAll('.dropdown-option').forEach(option => {
    option.addEventListener('click', function(e) {
      e.preventDefault();
      selectedSize = this.textContent.trim();
      sizeDropdown.classList.add('hidden');
      sizeArrow.classList.remove('rotated');
      filterProducts();
      updateDropdownHighlights();
    });
  });
  colorDropdown.querySelectorAll('.dropdown-option').forEach(option => {
    option.addEventListener('click', function(e) {
      e.preventDefault();
      selectedColor = this.textContent.trim().toLowerCase();
      colorDropdown.classList.add('hidden');
      colorArrow.classList.remove('rotated');
      filterProducts();
      updateDropdownHighlights();
    });
  });
  priceDropdown.querySelectorAll('.dropdown-option').forEach(option => {
    option.addEventListener('click', function(e) {
      e.preventDefault();
      const val = this.textContent.trim();
      if (val.startsWith('Under')) selectedPrice = 'under4000';
      else if (val.startsWith('₹4,000–₹6,000')) selectedPrice = '4000-6000';
      else if (val.startsWith('₹6,000–₹8,000')) selectedPrice = '6000-8000';
      else if (val.startsWith('Over')) selectedPrice = 'over8000';
      priceDropdown.classList.add('hidden');
      priceArrow.classList.remove('rotated');
      filterProducts();
      updateDropdownHighlights();
    });
  });

  // --- Search ---
  searchInput.addEventListener('input', filterProducts);
  function filterProducts() {
    currentPage = 1;
    renderProducts();
    updateActiveFilters();
    updateDropdownHighlights();
  }

  // --- Active Filter Tags ---
  function updateActiveFilters() {
    activeFilters.innerHTML = '';
    if (selectedCategory && selectedCategory !== 'all') {
      const tag = document.createElement('span');
      tag.className = 'filter-tag';
      tag.innerHTML = `Category: ${selectedCategory} <span class="remove-tag" data-type="category">×</span>`;
      activeFilters.appendChild(tag);
    }
    if (selectedSize) {
      const tag = document.createElement('span');
      tag.className = 'filter-tag';
      tag.innerHTML = `Size: ${selectedSize} <span class="remove-tag" data-type="size">×</span>`;
      activeFilters.appendChild(tag);
    }
    if (selectedColor) {
      const tag = document.createElement('span');
      tag.className = 'filter-tag';
      tag.innerHTML = `Color: ${selectedColor.charAt(0).toUpperCase() + selectedColor.slice(1)} <span class="remove-tag" data-type="color">×</span>`;
      activeFilters.appendChild(tag);
    }
    if (selectedPrice) {
      let priceLabel = '';
      if (selectedPrice === 'under4000') priceLabel = 'Under ₹4,000';
      else if (selectedPrice === '4000-6000') priceLabel = '₹4,000–₹6,000';
      else if (selectedPrice === '6000-8000') priceLabel = '₹6,000–₹8,000';
      else if (selectedPrice === 'over8000') priceLabel = 'Over ₹8,000';
      const tag = document.createElement('span');
      tag.className = 'filter-tag';
      tag.innerHTML = `Price: ${priceLabel} <span class="remove-tag" data-type="price">×</span>`;
      activeFilters.appendChild(tag);
    }
    activeFilters.querySelectorAll('.remove-tag').forEach(el => {
      el.addEventListener('click', function() {
        const type = this.getAttribute('data-type');
        if (type === 'category') selectedCategory = null;
        if (type === 'size') selectedSize = null;
        if (type === 'color') selectedColor = null;
        if (type === 'price') selectedPrice = null;
        currentPage = 1;
        filterProducts();
        updateActiveFilters();
        updateDropdownHighlights();
      });
    });
  }

  // --- Dropdown Highlights ---
  function updateDropdownHighlights() {
    // Category
    categoryDropdown.querySelectorAll('.dropdown-option').forEach(option => {
      if (selectedCategory && option.getAttribute('data-value') === selectedCategory) {
        option.classList.add('selected');
      } else {
        option.classList.remove('selected');
      }
    });
    // Size
    sizeDropdown.querySelectorAll('.dropdown-option').forEach(option => {
      if (selectedSize && option.textContent.trim() === selectedSize) {
        option.classList.add('selected');
      } else {
        option.classList.remove('selected');
      }
    });
    // Color
    colorDropdown.querySelectorAll('.dropdown-option').forEach(option => {
      if (selectedColor && option.textContent.trim().toLowerCase() === selectedColor) {
        option.classList.add('selected');
      } else {
        option.classList.remove('selected');
      }
    });
    // Price
    priceDropdown.querySelectorAll('.dropdown-option').forEach(option => {
      const val = option.textContent.trim();
      let match = false;
      if (selectedPrice === 'under4000' && val.startsWith('Under')) match = true;
      else if (selectedPrice === '4000-6000' && val.startsWith('₹4,000–₹6,000')) match = true;
      else if (selectedPrice === '6000-8000' && val.startsWith('₹6,000–₹8,000')) match = true;
      else if (selectedPrice === 'over8000' && val.startsWith('Over')) match = true;
      if (match) option.classList.add('selected');
      else option.classList.remove('selected');
    });
  }

  // --- Sort Dropdown ---
  const sortLabels = {
    'default': 'Sort',
    'price-asc': 'Price: Low to High',
    'price-desc': 'Price: High to Low',
    'name-asc': 'Name: A-Z',
    'name-desc': 'Name: Z-A'
  };
  sortLabel.textContent = sortLabels[currentSort];
  sortDropdown.querySelector('.dropdown-option[data-value="default"]').classList.add('selected');

  // --- Clear Filters ---
  clearBtn.addEventListener('click', function() {
    if (selectedCategory || selectedSize || selectedColor || selectedPrice || searchInput.value.trim() || currentSort !== 'default') {
      clearX.classList.add('shatter-x');
      setTimeout(() => { clearX.classList.remove('shatter-x'); }, 600);
    }
    selectedCategory = null;
    selectedSize = null;
    selectedColor = null;
    selectedPrice = null;
    searchInput.value = '';
    currentSort = 'default';
    sortLabel.textContent = sortLabels[currentSort];
    sortDropdown.querySelectorAll('.dropdown-option').forEach(opt => opt.classList.remove('selected'));
    sortDropdown.querySelector('.dropdown-option[data-value="default"]').classList.add('selected');
    filterProducts();
  });

  // --- Modal Close ---
  document.getElementById('product-modal').addEventListener('click', function (e) {
    if (e.target === this) {
      this.classList.add('opacity-0');
      this.querySelector('.bg-white').classList.add('scale-95');
      setTimeout(() => {
        this.classList.add('hidden');
      }, 300);
    }
  });

  // --- Search Bar Toggle ---
  const searchBarContainer = document.getElementById('search-bar-container');
  let searchBarVisible = false;
  const headerSearchBtn = document.getElementById('header-search-btn');
  if (headerSearchBtn) {
    headerSearchBtn.addEventListener('click', function(e) {
      e.preventDefault();
      searchBarVisible = !searchBarVisible;
      if (searchBarVisible) {
        searchBarContainer.classList.remove('opacity-0', '-translate-y-4', 'pointer-events-none');
        searchBarContainer.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto');
        productGrid.style.marginTop = '64px';
        setTimeout(() => { searchInput.focus(); }, 200);
      } else {
        searchBarContainer.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
        searchBarContainer.classList.add('opacity-0', '-translate-y-4', 'pointer-events-none');
        productGrid.style.marginTop = '0';
      }
    });
  }

  // --- Initial Render ---
  renderProducts();
  updateActiveFilters();
  updateDropdownHighlights();
});
// --- END JS LOGIC ---
        </script>
      </div>
    </div>
  </body>
</html>